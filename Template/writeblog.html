{% include 'header.html' %}

{% if user.is_authenticated %}
    <!-- When blog is posted, this success message will be displayed -->
    {% if success %}
        <div class="alert alert-success alert-dismissible fade show m-4" role="alert">Your blog was posted.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>
    {%endif%}

    <form method="post">
        {% csrf_token %}
        <!-- username of logged in user will go by default in DB
        Using display:none property this input will not appear -->
        <div style="display: none;">
            <input type="text" name="username" value="{{user.username}}">
        </div>

        <div class="form-floating mb-3 m-4">
            <input type="text" name="blog_heading" class="form-control border-black" id="floatingInput" placeholder="Blog Heading">
            <label for="floatingInput">Blog Heading</label>
        </div>
        <div class="form-floating m-4">
            <textarea name="blog_content" class="form-control border-black" placeholder="Blog Conteny" id="floatingTextarea2" style="height: 100px"></textarea>
            <label for="floatingTextarea2">Blog Content</label>
        </div>
        <button type="submit" class="btn btn-secondary mx-4">Submit</button>
    </form>
{% else %}
    <!-- In case user is not logged in -->
    <h1 class="text-center my-4">You are not logged in</h1>
    <p class="text-center">You need to be logged in to write a blog. <a href="{% url 'writebloglogin' %}" class="text-decoration-none font-white">Click Here</a> to log in</p>
{% endif %}

{% include 'footer.html' %}